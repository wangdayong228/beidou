/* eslint-disable */
const { Conflux } = require('js-conflux-sdk');
const abi = [{ "inputs": [{ "internalType": "string", "name": "_symbol", "type": "string" }], "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "address", "name": "_from", "type": "address" }, { "indexed": true, "internalType": "address", "name": "_to", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "_value", "type": "uint256" }], "name": "Transfer", "type": "event" }, { "inputs": [{ "internalType": "address", "name": "addr", "type": "address" }], "name": "getBalance", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "receiver", "type": "address" }, { "internalType": "uint256", "name": "amount", "type": "uint256" }], "name": "sendCoin", "outputs": [{ "internalType": "bool", "name": "sufficient", "type": "bool" }], "stateMutability": "nonpayable", "type": "function" }]
const bytecode = "0x60806040523480156100115760006000fd5b50604051610829380380610829833981810160405281019061003391906101c3565b5b806001600050908051906020019061004d9291906100a3565b50612710600060005060003273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000508190909055505b50610337565b8280546100af9061029f565b90600052602060002090601f0160209004810192826100d1576000855561011d565b82601f106100ea57805160ff191683800117855561011d565b8280016001018555821561011d579182015b8281111561011c57825182600050909055916020019190600101906100fc565b5b50905061012a919061012e565b5090565b610133565b8082111561014d5760008181506000905550600101610133565b509056610336565b600061016861016384610239565b610207565b9050828152602081018484840111156101815760006000fd5b61018c84828561026a565b505b9392505050565b600082601f83011215156101a95760006000fd5b81516101b9848260208601610155565b9150505b92915050565b6000602082840312156101d65760006000fd5b600082015167ffffffffffffffff8111156101f15760006000fd5b6101fd84828501610195565b9150505b92915050565b6000604051905081810181811067ffffffffffffffff8211171561022e5761022d610305565b5b80604052505b919050565b600067ffffffffffffffff82111561025457610253610305565b5b601f19601f83011690506020810190505b919050565b60005b838110156102895780820151818401525b60208101905061026d565b83811115610298576000848401525b505b505050565b6000600282049050600182168015156102b957607f821691505b602082108114156102cd576102cc6102d4565b5b505b919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b565b5b6104e3806103466000396000f3fe60806040523480156100115760006000fd5b506004361061003b5760003560e01c806390b98a1114610041578063f8b2cb4f146100715761003b565b60006000fd5b61005b600480360381019061005691906102d6565b6100a1565b6040516100689190610335565b60405180910390f35b61008b600480360381019061008691906102ab565b610227565b6040516100989190610351565b60405180910390f35b600081600060005060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000505410156100f95760009050610221565b81600060005060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828282505461014d91906103c4565b92505081909090555081600060005060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082828250546101aa919061036d565b9250508190909055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516102109190610351565b60405180910390a360019050610221565b92915050565b6000600060005060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050549050610276565b919050566104ac565b60008135905061028e81610476565b5b92915050565b6000813590506102a481610491565b5b92915050565b6000602082840312156102be5760006000fd5b60006102cc8482850161027f565b9150505b92915050565b60006000604083850312156102eb5760006000fd5b60006102f98582860161027f565b925050602061030a85828601610295565b9150505b9250929050565b61031e8161040c565b82525b5050565b61032e8161043a565b82525b5050565b600060208201905061034a6000830184610315565b5b92915050565b60006020820190506103666000830184610325565b5b92915050565b60006103788261043a565b91506103838361043a565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156103b8576103b7610445565b5b82820190505b92915050565b60006103cf8261043a565b91506103da8361043a565b9250828210156103ed576103ec610445565b5b82820390505b92915050565b600061040482610419565b90505b919050565b600081151590505b919050565b600073ffffffffffffffffffffffffffffffffffffffff821690505b919050565b60008190505b919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b565b61047f816103f9565b8114151561048d5760006000fd5b5b50565b61049a8161043a565b811415156104a85760006000fd5b5b50565bfea26469706673582212200da50a7ff79e87d41d1cbe9ca3d374dee76a3ce8a2643fd2181b88e4054f283a64736f6c63430008000033"

const cfx = new Conflux({
    url: 'http://test.confluxrpc.org/v2',
    networkId: 1,
});

(async function deploy() {
    const accountAlice = cfx.wallet.addPrivateKey('0xa816a06117e572ca7ae2f786a046d2bc478051d0717bf5cc4f5397923258d393');
    const metaCoin = cfx.Contract({ abi, bytecode }); // or `conflux.Contract({ abi, bytecode, address })` for existed contract
    const receipt = await metaCoin
        .constructor("ABC")
        .sendTransaction({ from: accountAlice.address })
        .executed();

    console.log('receipt', JSON.stringify(receipt, null, 2));
})()
